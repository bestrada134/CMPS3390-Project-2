@import "tailwindcss";

/**
* Custom global styles and component classes using Tailwind CSS
* @layer components is the recommended way to add custom component classes when using Tailwind CSS.
*
* This ensures that your custom styles are included in the final CSS output.
* They are output after base styles but before utility classes,
* so utility classes can override them if both are present.

* More info: https://tailwindcss.com/docs/adding-custom-styles#adding-base-styles
*/


@layer components {
    /*  Styles for the dashboard
    */
    .card-dashboard {
        @apply block p-6 bg-white border border-gray-200 rounded-lg 
        shadow-sm hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-700 
        dark:hover:bg-gray-700 w-full h-40
    }

    .card-dashboard>h5 {
        @apply mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white
    }
    .card-dashboard>p{
        @apply font-normal text-gray-700 dark:text-gray-400
    }

    /* -------- Auth Page (src/routes/(public)/auth/+page.svelte) --------
        Scoped styles for the auth screen. All classes are namespaced with `auth-`
        to avoid collisions since this stylesheet is global.
    --------------------------------------------------------------------- */
    
    .auth-shell {
        @apply flex flex-wrap lg:flex-nowrap;
    }

    .auth-brand {
        @apply bg-zinc-600 h-12 lg:h-svh w-full lg:w-[15vw] px-4 py-2 flex lg:items-center lg:justify-end;
    }

    .auth-brand__img {
        @apply h-8 w-auto lg:h-auto lg:w-48 object-contain;
    }

    .auth-hero {
        @apply h-[calc(100vh-48px)] lg:h-svh w-full p-4 bg-no-repeat bg-center bg-cover flex lg:justify-center lg:items-start flex-col items-center;
        /* Tailwind arbitrary bg url via CSS to keep it robust in @apply */
        background-image: url('/library.png');
    }

    .auth-panel {
        @apply w-full md:w-[380px] rounded-md bg-zinc-100 p-4 min-h-32 flex flex-col gap-2;
    }

    .auth-title {
        @apply text-xl;
    }

    /* Alerts */
    .auth-alert {
        @apply rounded-md border p-3;
    }

    .auth-alert--ok {
        @apply border-emerald-300 bg-emerald-50 text-emerald-800;
    }

    .auth-alert--error {
        @apply border-red-300 bg-red-50 text-red-800;
    }

    /* Forms */
    .auth-form {
        @apply space-y-3;
    }

    .auth-label {
        @apply block text-sm font-medium text-slate-700;
    }

    .auth-input {
        @apply w-full h-10 rounded-md border border-slate-300 bg-white px-3 text-slate-900 placeholder:text-slate-400 outline-none ring-0 focus:border-sky-500 focus:ring-2 focus:ring-sky-200 mt-1;
    }

    .auth-submit {
        @apply block mx-auto w-64 h-11 rounded-md bg-slate-600 text-white font-semibold hover:brightness-110;
    }

    /* Mode switch / tab buttons */
    .auth-tab {
        @apply inline-flex items-center gap-1.5 rounded-full border border-slate-300 bg-white px-4 py-1.5 text-sm font-medium text-slate-700 hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-sky-200 mx-auto mt-2;
    }

    .auth-tab:disabled {
        @apply opacity-60 pointer-events-none;
    }

    .auth-tab[aria-pressed="true"] {
        @apply bg-slate-100 border-slate-400;
    }

    /* Active press effect without relying on variant in @apply */
    .auth-tab:active {
        transform: scale(.99);
    }

    .auth-icon-sm {
        @apply h-4 w-4;
    }

    /* Outer padding shell */
    .app-main {
        @apply w-full px-4 py-6 sm:px-6 lg:px-8;
    }

    /* Child container: centered, full width up to a max, fixed height, scroll if needed */
    .app-container {
        @apply mx-auto w-full max-w-screen-lg overflow-auto;
        /* Set size here (change to what you want) */
        width: 100%;
        /* already covered by w-full; kept for clarity */
        height: 68vh;
        /* <â€” pick your height */
    }

    /* -------- Forms -------- */
    .tf-input {
        @apply w-full h-10 rounded-md border border-slate-300 bg-white px-3 text-slate-900 
                placeholder:text-slate-400 outline-none ring-0 focus:border-sky-500 focus:ring-2 focus:ring-sky-200;
    }

    .tf-label {
        @apply block text-sm font-medium text-slate-700;
    }

    .f-submit {
        @apply block mx-auto w-64 h-11 rounded-md bg-slate-600 text-white font-semibold;
    }

    .mode-switch {
        @apply inline-flex items-center gap-1.5 rounded-full border border-slate-300 bg-white px-4 py-1.5 
                text-sm font-medium text-slate-700 hover:bg-slate-50 active:scale-[.99] focus:outline-none 
                focus:ring-2 focus:ring-sky-200;
    }

    .mode-switch:disabled {
        @apply opacity-60 pointer-events-none;
    }

    .mode-switch[aria-pressed="true"] {
        @apply bg-slate-100 border-slate-400;
    }

    .mode-switch__icon {
        @apply h-4 w-4;
    }

    /* -------- book/[id] -------- */

    .stage {
        @apply mx-auto w-full max-w-3xl;
    }

    .state-center {
        @apply grid place-items-center min-h-[40vh];
    }

    .card {
        @apply rounded-xl border border-zinc-200 bg-white p-4 shadow-sm;
    }

    /* -------- Header -------- */
    .c-header {
        @apply relative flex items-center justify-between border-b border-zinc-200 px-4 py-2 bg-white;
    }

    .c-corner {
        @apply w-14 h-14 flex items-center justify-center;
    }

    .c-corner-img {
        @apply w-full h-full object-contain;
    }

    .c-nav-desktop {
        @apply hidden md:flex items-center;
    }

    .c-links {
        @apply flex items-center gap-2;
    }

    .c-link {
        @apply text-zinc-800 hover:text-sky-700 px-2 py-1 transition-colors;
    }

    .c-links li[aria-current="page"] .c-link {
        @apply border-b-2 border-zinc-900;
    }

    .c-hamburger {
        @apply md:hidden inline-flex items-center justify-center rounded-md border
                border-zinc-300 p-2 hover:bg-zinc-100 focus:outline-none focus:ring-2 focus:ring-sky-500;
    }

    .c-icon {
        @apply h-6 w-6;
    }

    .c-mobile-menu {
        @apply hidden md:hidden absolute top-full left-0 right-0 z-50 bg-white border-b border-zinc-200 shadow-sm;
    }

    .c-mobile-menu--open {
        @apply block md:hidden;
    }

    .c-mobile-links {
        @apply flex flex-col divide-y divide-zinc-200;
    }

    .c-mobile-link {
        @apply block px-4 py-3 text-zinc-800 hover:bg-zinc-50;
    }

    .c-mobile-links li[aria-current="page"] .c-mobile-link {
        @apply bg-zinc-50 font-medium;
    }

    /* -------- Footer (unchanged from corners version) -------- */
    .c-footer {
        @apply relative mt-8 border-t border-zinc-200 bg-white pt-4 pb-16 px-4;
    }

    .c-signed-in {
        @apply mb-3 text-sm text-zinc-600 text-center;
    }

    .c-github-link {
        @apply absolute left-4 bottom-4 block;
    }

    .c-github-img {
        @apply w-8 h-8 object-contain;
    }

    .c-logout-form {
        @apply absolute right-4 bottom-4;
    }

    .c-logout-btn {
        @apply inline-flex items-center gap-2 rounded-md border border-sky-600 px-4 py-2 
                bg-white text-sky-700 hover:bg-sky-600 hover:text-white transition;
    }

    .c-logout-icon {
        @apply h-5 w-5;
    }
}